[
  {
    "description": "error: compileSchema with non-object schema",
    "schema": "not an object",
    "rawSchema": true,
    "error": true
  },
  {
    "description": "defaultDialect: validate schema without $schema keyword",
    "schema": {
      "type": "string"
    },
    "options": {
      "defaultDialect": "https://json-schema.org/draft/2020-12/schema"
    },
    "instance": "hello",
    "result": { "valid": true }
  },
  {
    "description": "defaultDialect: invalidate schema without $schema keyword",
    "schema": {
      "type": "string"
    },
    "options": {
      "defaultDialect": "https://json-schema.org/draft/2020-12/schema"
    },
    "instance": 42,
    "result": { "valid": false }
  },
  {
    "description": "resolve external $ref with BlazeJSON",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$ref": "https://example.com/number-schema"
    },
    "options": {
      "resolve": {
        "https://example.com/number-schema": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "$id": "https://example.com/number-schema",
          "type": "number"
        }
      }
    },
    "instance": 42,
    "result": { "valid": true }
  },
  {
    "description": "invalidate when resolved schema does not match",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$ref": "https://example.com/string-schema"
    },
    "options": {
      "resolve": {
        "https://example.com/string-schema": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "$id": "https://example.com/string-schema",
          "type": "string"
        }
      }
    },
    "instance": 123,
    "result": { "valid": false }
  },
  {
    "description": "resolve nested $ref",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "name": { "$ref": "https://example.com/name-schema" }
      }
    },
    "options": {
      "resolve": {
        "https://example.com/name-schema": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "$id": "https://example.com/name-schema",
          "type": "string",
          "minLength": 1
        }
      }
    },
    "instance": { "name": "John" },
    "result": { "valid": true }
  },
  {
    "description": "invalidate when nested $ref schema does not match",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "name": { "$ref": "https://example.com/name-schema" }
      }
    },
    "options": {
      "resolve": {
        "https://example.com/name-schema": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "$id": "https://example.com/name-schema",
          "type": "string",
          "minLength": 1
        }
      }
    },
    "instance": { "name": "" },
    "result": { "valid": false }
  },
  {
    "description": "fast mode: return valid: true for matching instance",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "string"
    },
    "options": { "mode": "fast" },
    "instance": "hello",
    "result": { "valid": true }
  },
  {
    "description": "fast mode: return valid: false for non-matching instance",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "string"
    },
    "options": { "mode": "fast" },
    "instance": 42,
    "result": { "valid": false }
  },
  {
    "description": "fast mode: validate valid object with required properties",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "name": { "type": "string" },
        "age": { "type": "integer" }
      },
      "required": ["name"]
    },
    "options": { "mode": "fast" },
    "instance": { "name": "John", "age": 30 },
    "result": { "valid": true }
  },
  {
    "description": "fast mode: invalidate object missing required property",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "name": { "type": "string" },
        "age": { "type": "integer" }
      },
      "required": ["name"]
    },
    "options": { "mode": "fast" },
    "instance": { "age": 30 },
    "result": { "valid": false }
  },
  {
    "description": "fast mode: invalidate object with wrong property type",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "name": { "type": "string" },
        "age": { "type": "integer" }
      },
      "required": ["name"]
    },
    "options": { "mode": "fast" },
    "instance": { "name": 123 },
    "result": { "valid": false }
  },
  {
    "description": "fast mode: validate valid array",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "array",
      "items": { "type": "number" }
    },
    "options": { "mode": "fast" },
    "instance": [1, 2, 3],
    "result": { "valid": true }
  },
  {
    "description": "fast mode: invalidate array with wrong item type",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "array",
      "items": { "type": "number" }
    },
    "options": { "mode": "fast" },
    "instance": [1, "two", 3],
    "result": { "valid": false }
  },
  {
    "description": "exhaustive mode: return detailed output for valid instance",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "string"
    },
    "options": { "mode": "exhaustive" },
    "instance": "hello",
    "result": { "valid": true }
  },
  {
    "description": "exhaustive mode: return errors for invalid instance",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "string"
    },
    "options": { "mode": "exhaustive" },
    "instance": 42,
    "result": {
      "valid": false,
      "errors": [
        {
          "absoluteKeywordLocation": "#/type",
          "error": "The value was expected to be of type string but it was of type integer",
          "instanceLocation": "",
          "keywordLocation": "/type"
        }
      ]
    }
  },
  {
    "description": "exhaustive mode: return annotations for valid object",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "foo": { "type": "string" }
      }
    },
    "options": { "mode": "exhaustive" },
    "instance": { "foo": "bar" },
    "result": {
      "valid": true,
      "annotations": [
        {
          "absoluteKeywordLocation": "#/properties",
          "annotation": ["foo"],
          "instanceLocation": "",
          "keywordLocation": "/properties"
        }
      ]
    }
  },
  {
    "description": "primitives: validate null value against null type",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "null"
    },
    "options": {},
    "instance": null,
    "result": { "valid": true }
  },
  {
    "description": "primitives: invalidate string against null type",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "null"
    },
    "options": {},
    "instance": "not null",
    "result": { "valid": false }
  },
  {
    "description": "primitives: validate true against boolean type",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "boolean"
    },
    "options": {},
    "instance": true,
    "result": { "valid": true }
  },
  {
    "description": "primitives: validate false against boolean type",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "boolean"
    },
    "options": {},
    "instance": false,
    "result": { "valid": true }
  },
  {
    "description": "primitives: invalidate string against boolean type",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "boolean"
    },
    "options": {},
    "instance": "true",
    "result": { "valid": false }
  },
  {
    "description": "primitives: validate number within range",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "number",
      "minimum": 0,
      "maximum": 100
    },
    "options": {},
    "instance": 50,
    "result": { "valid": true }
  },
  {
    "description": "primitives: invalidate number below minimum",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "number",
      "minimum": 0,
      "maximum": 100
    },
    "options": {},
    "instance": -1,
    "result": { "valid": false }
  },
  {
    "description": "primitives: invalidate number above maximum",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "number",
      "minimum": 0,
      "maximum": 100
    },
    "options": {},
    "instance": 101,
    "result": { "valid": false }
  },
  {
    "description": "primitives: validate integer against integer type",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "integer"
    },
    "options": {},
    "instance": 42,
    "result": { "valid": true }
  },
  {
    "description": "primitives: invalidate float against integer type",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "integer"
    },
    "options": {},
    "instance": 3.14,
    "result": { "valid": false }
  },
  {
    "description": "complex: validate valid nested object",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "user": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "email": { "type": "string", "format": "email" }
          },
          "required": ["name", "email"]
        }
      }
    },
    "options": {},
    "instance": { "user": { "name": "John", "email": "john@example.com" } },
    "result": { "valid": true }
  },
  {
    "description": "complex: invalidate nested object missing required property",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "user": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "email": { "type": "string", "format": "email" }
          },
          "required": ["name", "email"]
        }
      }
    },
    "options": {},
    "instance": { "user": { "name": "John" } },
    "result": { "valid": false }
  },
  {
    "description": "complex: validate value in enum",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "enum": ["red", "green", "blue"]
    },
    "options": {},
    "instance": "red",
    "result": { "valid": true }
  },
  {
    "description": "complex: invalidate value not in enum",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "enum": ["red", "green", "blue"]
    },
    "options": {},
    "instance": "yellow",
    "result": { "valid": false }
  },
  {
    "description": "complex: validate matching const value",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "const": "expected"
    },
    "options": {},
    "instance": "expected",
    "result": { "valid": true }
  },
  {
    "description": "complex: invalidate non-matching const value",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "const": "expected"
    },
    "options": {},
    "instance": "other",
    "result": { "valid": false }
  },
  {
    "description": "complex: validate string matching pattern",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "string",
      "pattern": "^[a-z]+$"
    },
    "options": {},
    "instance": "hello",
    "result": { "valid": true }
  },
  {
    "description": "complex: invalidate string with uppercase against lowercase pattern",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "string",
      "pattern": "^[a-z]+$"
    },
    "options": {},
    "instance": "Hello",
    "result": { "valid": false }
  },
  {
    "description": "complex: invalidate string with numbers against alpha pattern",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "string",
      "pattern": "^[a-z]+$"
    },
    "options": {},
    "instance": "hello123",
    "result": { "valid": false }
  },
  {
    "description": "complex: validate object without additional properties",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "name": { "type": "string" }
      },
      "additionalProperties": false
    },
    "options": {},
    "instance": { "name": "John" },
    "result": { "valid": true }
  },
  {
    "description": "complex: invalidate object with additional properties when not allowed",
    "schema": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "name": { "type": "string" }
      },
      "additionalProperties": false
    },
    "options": {},
    "instance": { "name": "John", "extra": 1 },
    "result": { "valid": false }
  }
]
